# Track Specification: Migrate yabai and skhd to Homebrew

## Objective
To transition the management of `yabai` (window manager) and `skhd` (hotkey daemon) from `nix-darwin`/`nixpkgs` to Homebrew. This change is driven by the requirement to use the latest versions of these tools, which may be newer than what is available in the nixpkgs channel. The migration must ensure that any existing Nix-managed services and launchd jobs for these tools are cleanly removed before re-installing and configuring them via Homebrew to avoid conflicts.

## Context
Currently, `yabai` and `skhd` are managed via the `modules/window-manager.nix` module (implied) and referenced in `flake.nix`. They are installed as system packages and likely configured as nix-darwin services. The user wants to switch to Homebrew for these specific tools.

## Requirements

### functional
- **Uninstall Nix Versions:** `yabai` and `skhd` must be removed from the nix-darwin configuration.
- **Cleanup Services:** The `launchd` service files generated by nix-darwin for `yabai` and `skhd` must be unloaded and removed.
- **Install via Homebrew:** The latest versions of `yabai` and `skhd` must be installed using Homebrew.
- **Service Management:** The services for `yabai` and `skhd` should be managed via Homebrew Services (using `brew services`).
- **Configuration Persistence:** Existing configuration files (e.g., `.yabairc`, `.skhdrc`) should be preserved or correctly symlinked/placed so the new installations pick them up. *Note: If these were generated by Nix, we might need to manually recreate them or point the tools to them.*

### Non-Functional
- **Clean Migration:** The transition should be seamless with no lingering processes or conflicting service definitions.
- **Idempotency:** The new setup should be robust.

## Constraints
- **Brew Integration:** The project must have Homebrew integration enabled (likely via `nix-darwin`'s `homebrew` module or just available on the system).
- **Manual Intervention:** Some steps (like initially stopping the services) might require shell commands, but the end state should be declarative where possible (e.g., adding them to a list of brew packages in nix-darwin if managing brew through nix, or just manual brew management if preferred). *Assumption: We will use nix-darwin's homebrew module to declare these brew packages if possible to keep it declarative.*

## Out of Scope
- modifying vim or neovim configurations.
- Changing the core logic of yabai/skhd configs (just how they are installed/run).
